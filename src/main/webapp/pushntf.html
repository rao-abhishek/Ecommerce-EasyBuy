<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<button onclick="subscribe()"> Subscribe </button>

<script>
 
 addEventListener('load',async () => {
	 let sw = await navigator.serviceWorker.register('./csw.js');
	 console.log(sw);
 })

 async function subscribe()
 {
	 
	 let sw = await navigator.serviceWorker.ready;
	 let push = await sw.pushManager.subscribe({
	
		 userVisibleOnly:true,
		 applicationServerKey: 'BAWkr7GaesIFA_zvYVFBmAF4FD730i94CKBtJapQmnFurGPfo_q0KLuB24OlSRtBjtNDF5ZJ9wnPDKmg7aGE2es'
		 
		 
	 })
	 
	 console.log(JSON.stringify(push));
	 
	 
 }
 

</script>

</body>
</html>